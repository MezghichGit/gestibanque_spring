<html>

<head>
<title>GESTI-BANQUE</title>
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
  integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
  crossorigin="anonymous">
</head>

<body style="margin: 0.5%;">
  <div th:replace="fragment/header::header" />
  <div th:replace="fragment/navbar::navbar" />
  <br />
  <br />

  <h1 align="center">Les Messages</h1>
  <br />

  Pour consulter la liste des messages :
  <a class="btn btn-primary" th:href="@{/messages/list}">Messagerie</a>
  <br />
  <br />
  <h3 align="center" style="background-color: rgb(0, 255, 128);">Modifier
    un message</h3>

  <div style="width: 50%; margin-left: 20%;">
    <form method="post" th:action="@{/messages/save}"
      th:object="${message}">
      <input type="hidden" th:field="*{id}" />
      <input type="hidden" th:field="*{dateMessage}" />
      <label for="us">Expéditeur</label>
      <select id="us" th:field="*{user.id}" class="form-control"
        required>
        <option th:each="opUser:${users}"
          th:text="${opUser.prenom + ' ' + opUser.nom + ' (' + opUser.email + ')'}"
          th:value="${opUser.id}" th:selected="${opUser == user}"></option>
      </select>
      <br />
      <!-- <label for="dt">Date de l'envoi</label>
      <input id="dt" type="date" name="dateMessage"
        th:value="*{{dateMessage}}" class="form-control" required />
      <br /> -->
      <label for="sm">Sujet du message</label>
      <input id="sm" type="text" th:field="*{sujet}"
        class="form-control" />
      <br />
      <label for="dm">Description du message</label>
      <input id="dm" type="text" th:field="*{description}"
        class="form-control" />
      <br />
      <!-- <label for="se">Email de l'expéditeur</label>
      <input id="se" type="email" th:field="*{emailSender}" class="form-control" />
      <br /> -->
      <input type="submit" value="Mettre à jour" class="btn btn-primary" />
    </form>
  </div>

  <div th:replace="fragment/footer::footer" />

</body>

</html>